{"version":3,"file":"js/bf6e4cbabd2e40803ea6.js","mappings":"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","sources":["webpack://JSPatcher/./src/core/objects/base/index.jsdsppkg.main.ts","webpack://JSPatcher/./src/core/objects/jsaw/AudioIn.ts","webpack://JSPatcher/./src/core/objects/jsaw/AudioOut.ts","webpack://JSPatcher/./src/core/objects/jsaw/Param.ts","webpack://JSPatcher/./src/core/objects/jsaw/index.jsdsppkg.main.ts"],"sourcesContent":["import BaseObject from \"./BaseObject\";\nimport EmptyObject from \"./EmptyObject\";\nimport InvalidObject from \"./InvalidObject\";\nimport { Func, New } from \"../importer/RemoteImporter\";\nimport { comment } from \"./index.jspatpkg\";\nimport getIO from \"../jsaw/index.jsdsppkg.main\";\n\nexport default async () => ({\n    BaseObject,\n    EmptyObject,\n    InvalidObject,\n    func: Func,\n    new: New,\n    comment,\n    ...await getIO()\n});\n","import BaseObject from \"../base/BaseObject\";\nimport type { IArgsMeta, IOutletsMeta, IPropsMeta } from \"../base/AbstractObject\";\nimport type { PatcherEventMap } from \"../../patcher/Patcher\";\n\ninterface P {\n    description: string;\n}\n\nexport default class AudioIn extends BaseObject<{}, {}, [], [Float32Array], [number], P> {\n    static isPatcherInlet = \"audio\" as const;\n    static description = \"Patcher inlet (audio)\";\n    static args: IArgsMeta = [{\n        type: \"number\",\n        optional: false,\n        default: 1,\n        description: \"Inlet index (1-based)\"\n    }];\n    static props: IPropsMeta<P> = {\n        description: {\n            type: \"string\",\n            default: \"\",\n            description: \"Description text\"\n        }\n    };\n    static outlets: IOutletsMeta = [{\n        type: \"object\",\n        description: \"Float32Array buffer\"\n    }];\n    protected get index() {\n        return Math.max(1, ~~this.box.args[0] || 1);\n    }\n    protected _ = { index: this.index };\n    protected handlePatcherInput = ({ input, buffer }: PatcherEventMap[\"audioInput\"]) => {\n        if (input === this.index - 1) this.outlet(0, buffer);\n    };\n    protected emitPatcherChangeIO = () => this.patcher.changeIO();\n    subscribe() {\n        super.subscribe();\n        this.on(\"metaUpdated\", this.emitPatcherChangeIO);\n        this.on(\"preInit\", () => {\n            this.inlets = 0;\n            this.outlets = 1;\n        });\n        this.on(\"postInit\", this.emitPatcherChangeIO);\n        this.on(\"updateArgs\", () => {\n            const { index } = this;\n            if (index !== this._.index) {\n                this._.index = index;\n                this.patcher.changeIO();\n            }\n        });\n        this.on(\"updateProps\", (props) => {\n            const outlet0 = { ...this.meta.outlets[0] };\n            if (typeof props.description === \"string\") outlet0.description = props.description;\n            this.setMeta({ outlets: [outlet0] });\n            this.emitPatcherChangeIO();\n        });\n        if (this.env.thread === \"AudioWorklet\") this.patcher.on(\"audioInput\", this.handlePatcherInput);\n        this.on(\"destroy\", () => {\n            this.patcher.off(\"audioInput\", this.handlePatcherInput);\n            this.patcher.changeIO();\n        });\n    }\n}\n","import BaseObject from \"../base/BaseObject\";\nimport type { IArgsMeta, IInletsMeta, IPropsMeta } from \"../base/AbstractObject\";\n\ninterface P {\n    description: string;\n}\n\nexport default class AudioOut extends BaseObject<{}, {}, [Float32Array], [], [number], P> {\n    static isPatcherOutlet = \"audio\" as const;\n    static description = \"Patcher outlet (audio)\";\n    static args: IArgsMeta = [{\n        type: \"number\",\n        optional: false,\n        default: 1,\n        description: \"Inlet index (1-based)\"\n    }];\n    static props: IPropsMeta<P> = {\n        description: {\n            type: \"string\",\n            default: \"\",\n            description: \"Description text\"\n        }\n    };\n    static inlets: IInletsMeta = [{\n        isHot: true,\n        type: \"anything\",\n        description: \"Float32Array buffer\"\n    }];\n    protected get index() {\n        return Math.max(1, ~~this.box.args[0] || 1);\n    }\n    protected _ = { index: this.index };\n    protected emitPatcherChangeIO = () => {\n        this.patcher.inspectAudioIO();\n        this.patcher.changeIO();\n    };\n    subscribe() {\n        super.subscribe();\n        this.on(\"metaUpdated\", this.emitPatcherChangeIO);\n        this.on(\"preInit\", () => {\n            this.inlets = 1;\n            this.outlets = 0;\n        });\n        this.on(\"postInit\", this.emitPatcherChangeIO);\n        this.on(\"updateArgs\", () => {\n            const { index } = this;\n            if (index !== this._.index) {\n                this._.index = index;\n                this.patcher.changeIO();\n            }\n        });\n        this.on(\"updateProps\", (props) => {\n            const inlet0 = { ...this.meta.inlets[0] };\n            if (typeof props.description === \"string\") inlet0.description = props.description;\n            this.setMeta({ inlets: [inlet0] });\n            this.emitPatcherChangeIO();\n        });\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) this.patcher.outputAudio(this.index - 1, data);\n        });\n        this.on(\"destroy\", this.emitPatcherChangeIO);\n    }\n}\n","import BaseObject from \"../base/BaseObject\";\nimport type { IArgsMeta, IOutletsMeta, IPropsMeta } from \"../base/AbstractObject\";\nimport type { PatcherEventMap } from \"../../patcher/Patcher\";\n\ninterface P {\n    description: string;\n}\n\nexport default class Param extends BaseObject<{}, {}, [], [Float32Array], [string], P> {\n    static description = \"Patcher outlet (data)\";\n    static args: IArgsMeta = [{\n        type: \"string\",\n        optional: false,\n        default: \"\",\n        description: \"Parameter name\"\n    }];\n    static props: IPropsMeta<P> = {\n        description: {\n            type: \"string\",\n            default: \"\",\n            description: \"Description text\"\n        }\n    };\n    static outlets: IOutletsMeta = [{\n        type: \"anything\",\n        description: \"\"\n    }];\n    protected handlePatcherInput = ({ param, buffer }: PatcherEventMap[\"paramInput\"]) => {\n        if (this.args[0] === param) this.outlet(0, buffer);\n    };\n    protected emitPatcherChangeIO = () => this.patcher.changeIO();\n    subscribe() {\n        super.subscribe();\n        this.on(\"metaUpdated\", this.emitPatcherChangeIO);\n        this.on(\"preInit\", () => {\n            this.inlets = 0;\n            this.outlets = 1;\n        });\n        this.on(\"postInit\", this.emitPatcherChangeIO);\n        this.on(\"updateArgs\", this.emitPatcherChangeIO);\n        this.on(\"updateProps\", (props) => {\n            const outlet0 = { ...this.meta.outlets[0] };\n            if (typeof props.description === \"string\") outlet0.description = props.description;\n            this.setMeta({ outlets: [outlet0] });\n            this.emitPatcherChangeIO();\n        });\n        if (this.env.thread === \"AudioWorklet\") this.patcher.on(\"paramInput\", this.handlePatcherInput);\n        this.on(\"destroy\", () => {\n            this.patcher.off(\"paramInput\", this.handlePatcherInput);\n            this.patcher.changeIO();\n        });\n    }\n}\n","import generateRemoteObject from \"../base/generateRemoteObject\";\nimport In from \"./In\";\nimport Out from \"./Out\";\nimport Param from \"./Param\";\nimport AudioIn from \"./AudioIn\";\nimport AudioOut from \"./AudioOut\";\nimport type BaseObject from \"../base/BaseObject\";\n\nexport default async () => ({\n    in: generateRemoteObject(In as typeof BaseObject),\n    out: generateRemoteObject(Out as typeof BaseObject),\n    \"param~\": generateRemoteObject(Param as typeof BaseObject),\n    \"in~\": generateRemoteObject(AudioIn as typeof BaseObject),\n    \"out~\": generateRemoteObject(AudioOut as typeof BaseObject)\n});\n"],"names":[],"sourceRoot":""}
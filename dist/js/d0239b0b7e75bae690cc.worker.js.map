{"version":3,"sources":["webpack://JSPatcher/./src/core/workers/ProxyWorker.ts","webpack://JSPatcher/webpack/bootstrap","webpack://JSPatcher/webpack/runtime/create fake namespace object","webpack://JSPatcher/webpack/runtime/define property getters","webpack://JSPatcher/webpack/runtime/ensure chunk","webpack://JSPatcher/webpack/runtime/get javascript chunk filename","webpack://JSPatcher/webpack/runtime/global","webpack://JSPatcher/webpack/runtime/hasOwnProperty shorthand","webpack://JSPatcher/webpack/runtime/make namespace object","webpack://JSPatcher/webpack/runtime/node module decorator","webpack://JSPatcher/webpack/runtime/publicPath","webpack://JSPatcher/webpack/runtime/importScripts chunk loading","webpack://JSPatcher/./src/core/workers/Guido.worker.ts"],"names":["Worker","fnNames","constructor","resolves","rejects","messagePortRequestId","handleDisposed","removeEventListener","handleMessage","close","e","id","call","args","value","error","data","r","postMessage","_disposed","Promise","resolve","reject","Ctor","forEach","name","addEventListener","Guido","ProxyWorker","$2o","$","$oMap","o2$","o","i","indexOf","push","init","locateFile","url","dir","Module","default","module","fEngine","GuidoEngineAdapter","fScoreMap","GUIDOScoreMap","fPianoRoll","GUIDOPianoRollAdapter","fFactory","GUIDOFactoryAdapter","fSPR","GUIDOReducedProportionalAdapter","start","shutdown","ar2gr","ar","ar2grSettings","settings","updateGR","gr","updateGRSettings","freeAR","freeGR","getDefaultLayoutSettings","resizePageToMusic","getErrorString","errCode","showElement","elt","status","countVoices","getPageCount","getSystemCount","page","duration","findEventPage","date","findPageAt","getPageDate","pageNum","gr2SVG","embedFont","mappingMode","gr2SVGColored","g","b","abstractExport","binaryExport","jsExport","javascriptExport","setDefaultPageFormat","format","getDefaultPageFormat","setDrawBoundingBoxes","bmap","getDrawBoundingBoxes","getPageFormat","unit2CM","val","cm2Unit","unit2Inches","inches2Unit","getLineSpace","getVersion","getFloatVersion","v","parseFloat","major","minor","sub","getVersionStr","checkVersionNums","markVoice","voicenum","openParser","closeParser","p","file2AR","file","string2AR","gmn","parserGetErrorCode","openStream","closeStream","s","getStream","stream2AR","stream","writeStream","str","resetStream","getParsingTime","getAR2GRTime","getOnDrawTime","getPageMap","w","h","getStaffMap","staff","getVoiceMap","voice","getSystemMap","getTime","map","getPoint","x","y","getTimeMap","getPianoRollMap","pr","width","height","pianoRoll","ar2PianoRoll","type","destroyPianoRoll","prSetLimits","limits","setLimits","prEnableKeyboard","enableKeyboard","prGetKeyboardWidth","getKeyboardWidth","prEnableAutoVoicesColoration","enableAutoVoicesColoration","prSetVoiceColor","a","setRGBColorToVoice","prSetVoiceNamedColor","c","setColorToVoice","prRemoveVoiceColor","removeColorToVoice","prEnableMeasureBars","enableMeasureBars","prSetPitchLinesDisplayMode","mode","setPitchLinesDisplayMode","proll2svg","svgExport","prGetMap","getMap","prSvgExport","prJsExport","reducedProp","_openMusic","openMusic","_closeMusic","closeMusic","_openVoice","openVoice","_closeVoice","closeVoice","_openChord","openChord","_closeChord","closeChord","_insertCommata","insertCommata","_openEvent","openEvent","_closeEvent","closeEvent","_addSharp","addSharp","_addFlat","addFlat","_setEventDots","dots","setEventDots","_setEventAccidentals","acc","setEventAccidentals","_setOctave","oct","setOctave","_setDuration","numerator","denominator","setDuration","_openTag","tagID","openTag","_openRangeTag","openRangeTag","_endTag","endTag","_closeTag","closeTag","_addTagParameterString","addTagParameterString","_addTagParameterInt","addTagParameterInt","_addTagParameterFloat","addTagParameterFloat","_setParameterName","setParameterName","_setParameterUnit","unit","setParameterUnit","__closeMusic","factoryQueue","request","internalCall"],"mappings":"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","file":"js/d0239b0b7e75bae690cc.worker.js","sourcesContent":["import { ProxyWorker } from \"./ProxyWorker.types\";\nimport { TypedMessageEvent, MessagePortResponse, MessagePortRequest } from \"./Worker\";\n\nconst Worker = class {\n    static get fnNames(): string[] {\n        return [];\n    }\n    _disposed = false;\n    constructor() {\n        const resolves: Record<number, ((...args: any[]) => any)> = {};\n        const rejects: Record<number, ((...args: any[]) => any)> = {};\n        let messagePortRequestId = -1;\n        const handleDisposed = () => {\n            removeEventListener(\"message\", handleMessage);\n            close();\n        };\n        const handleMessage = async (e: TypedMessageEvent<MessagePortResponse & MessagePortRequest>) => {\n            const { id, call, args, value, error } = e.data;\n            if (call) {\n                const r: MessagePortResponse = { id };\n                try {\n                    r.value = await (this as any)[call](...args);\n                } catch (e) {\n                    r.error = e;\n                }\n                postMessage(r as any);\n                if (this._disposed) handleDisposed();\n            } else {\n                if (error) {\n                    if (rejects[id]) rejects[id](error);\n                    delete rejects[id];\n                    return;\n                }\n                if (resolves[id]) {\n                    resolves[id](value);\n                    delete resolves[id];\n                }\n            }\n        };\n        const call = (call: string, ...args: any[]) => new Promise<any>((resolve, reject) => {\n            const id = messagePortRequestId--;\n            resolves[id] = resolve;\n            rejects[id] = reject;\n            postMessage({ id, call, args });\n        });\n        const Ctor = (this.constructor as typeof ProxyWorker);\n        Ctor.fnNames.forEach(name => (this as any)[name] = (...args: any[]) => call(name, ...args));\n        addEventListener(\"message\", handleMessage);\n    }\n} as typeof ProxyWorker;\n\nexport default Worker;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"js/\" + \"2d53b7fef0725e282d4d\" + \".worker.js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../\";","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t\"Guido.worker\": 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkJSPatcher\"] = self[\"webpackChunkJSPatcher\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","import type * as GuidoModule from \"@shren/guidolib\";\nimport { IGuidoFactory, IGuidoWorker } from \"./GuidoWorker.types\";\nimport ProxyWorker from \"./ProxyWorker\";\nimport { MessagePortRequest } from \"./Worker\";\n\nclass Guido extends ProxyWorker<IGuidoWorker> implements IGuidoWorker {\n    private module: GuidoModule;\n    private fEngine: GuidoEngineAdapter;\n    private fPianoRoll: GUIDOPianoRollAdapter;\n    private fScoreMap: GUIDOScoreMap;\n    private fFactory: GUIDOFactoryAdapter;\n    private fSPR: GUIDOReducedProportionalAdapter;\n\n    private $oMap: ClassHandle[] = [];\n\n    private $2o($: number) {\n        return this.$oMap[$];\n    }\n    private o2$(o: ClassHandle) {\n        const i = this.$oMap.indexOf(o);\n        if (i !== -1) return i;\n        return this.$oMap.push(o) - 1;\n    }\n\n    async init() {\n        const locateFile = (url: string, dir: string) => \"../deps/\" + url;\n        const Module = (await import(\"@shren/guidolib\") as any).default as typeof GuidoModule;\n        this.module = await new Module({ locateFile });\n        this.fEngine = new this.module.GuidoEngineAdapter();\n        this.fScoreMap = new this.module.GUIDOScoreMap();\n        this.fPianoRoll = new this.module.GUIDOPianoRollAdapter();\n        this.fFactory = new this.module.GUIDOFactoryAdapter();\n        this.fSPR = new this.module.GUIDOReducedProportionalAdapter();\n        this.fEngine.init();\n    }\n\n    // ------------------------------------------------------------------------\n    // Guido Engine interface\n    start() { this.fEngine.init(); }\n    shutdown() { this.fEngine.shutdown(); }\n\n    ar2gr(ar: $ARHandler) { return this.o2$(this.fEngine.ar2gr(this.$2o(ar))); }\n    ar2grSettings(ar: $ARHandler, settings: GuidoLayoutSettings) { return this.o2$(this.fEngine.ar2grSettings(this.$2o(ar), settings)); }\n    updateGR(gr: $GRHandler) { return this.fEngine.updateGR(this.$2o(gr)); }\n    updateGRSettings(gr: $GRHandler, settings: GuidoLayoutSettings) { return this.fEngine.updateGRSettings(this.$2o(gr), settings); }\n    freeAR(ar: $ARHandler) { this.fEngine.freeAR(this.$2o(ar)); }\n    freeGR(gr: $GRHandler) { this.fEngine.freeGR(this.$2o(gr)); }\n    getDefaultLayoutSettings() { return this.fEngine.getDefaultLayoutSettings(); }\n\n    resizePageToMusic(gr: $GRHandler) { return this.fEngine.resizePageToMusic(this.$2o(gr)); }\n    getErrorString(errCode: GuidoErrCode) { return this.fEngine.getErrorString(errCode); }\n    showElement(gr: $GRHandler, elt: number, status: boolean) { return this.fEngine.showElement(this.$2o(gr), elt, status); }\n\n    countVoices(ar: $ARHandler) { return this.fEngine.countVoices(this.$2o(ar)); }\n    getPageCount(gr: $GRHandler) { return this.fEngine.getPageCount(this.$2o(gr)); }\n    getSystemCount(gr: $GRHandler, page: number) { return this.fEngine.getSystemCount(this.$2o(gr), page); }\n    duration(gr: $GRHandler) { return this.fEngine.duration(this.$2o(gr)); }\n\n    findEventPage(gr: $GRHandler, date: GuidoDate) { return this.fEngine.findEventPage(this.$2o(gr), date); }\n    findPageAt(gr: $GRHandler, date: GuidoDate) { return this.fEngine.findPageAt(this.$2o(gr), date); }\n    getPageDate(gr: $GRHandler, pageNum: number) { return this.fEngine.getPageDate(this.$2o(gr), pageNum); }\n\n    gr2SVG(gr: $GRHandler, page: number, embedFont: boolean, mappingMode: number) { return this.fEngine.gr2SVG(this.$2o(gr), page, embedFont, mappingMode); }\n    gr2SVGColored(gr: $GRHandler, page: number, r: number, g: number, b: number, embedFont: boolean) { return this.fEngine.gr2SVGColored(this.$2o(gr), page, r, g, b, embedFont); }\n\n    abstractExport(gr: $GRHandler, page: number) { return this.fEngine.abstractExport(this.$2o(gr), page); }\n    binaryExport(gr: $GRHandler, page: number) { return this.fEngine.binaryExport(this.$2o(gr), page); }\n    jsExport(gr: $GRHandler, page: number) { return this.fEngine.javascriptExport(this.$2o(gr), page); }\n\n    setDefaultPageFormat(format: GuidoPageFormat) { this.fEngine.setDefaultPageFormat(format); }\n    getDefaultPageFormat() { return this.fEngine.getDefaultPageFormat(); }\n\n    setDrawBoundingBoxes(bmap: number) { this.fEngine.setDrawBoundingBoxes(bmap); }\n    getDrawBoundingBoxes() { return this.fEngine.getDrawBoundingBoxes(); }\n    getPageFormat(gr: $GRHandler, page: number) { return this.fEngine.getPageFormat(this.$2o(gr), page); }\n\n    unit2CM(val: number) { return this.fEngine.unit2CM(val); }\n    cm2Unit(val: number) { return this.fEngine.cm2Unit(val); }\n    unit2Inches(val: number) { return this.fEngine.unit2Inches(val); }\n    inches2Unit(val: number) { return this.fEngine.inches2Unit(val); }\n    getLineSpace() { return this.fEngine.getLineSpace(); }\n\n    getVersion() { return this.fEngine.getVersion(); }\n    getFloatVersion() { const v = this.fEngine.getVersion(); return parseFloat(v.major + \".\" + v.minor + v.sub); }\n    getVersionStr() { return this.fEngine.getVersionStr(); }\n    checkVersionNums(major: number, minor: number, sub: number) { return this.fEngine.checkVersionNums(major, minor, sub); }\n\n    markVoice(ar: $ARHandler, voicenum: number, date: GuidoDate, duration: GuidoDate, r: number, g: number, b: number) { return this.fEngine.markVoice(this.$2o(ar), voicenum, date, duration, r, g, b); }\n\n    openParser() { return this.o2$(this.fEngine.openParser()); }\n    closeParser(p: $GuidoParser) { return this.fEngine.closeParser(this.$2o(p)); }\n    file2AR(p: $GuidoParser, file: string) { return this.o2$(this.fEngine.file2AR(this.$2o(p), file)); }\n    string2AR(p: $GuidoParser, gmn: string) { return this.o2$(this.fEngine.string2AR(this.$2o(p), gmn)); }\n    parserGetErrorCode(p: $GuidoParser) { return this.fEngine.parserGetErrorCode(this.$2o(p)); }\n\n    openStream() { return this.o2$(this.fEngine.openStream()); }\n    closeStream(s: $GuidoStream) { return this.fEngine.closeStream(this.$2o(s)); }\n    getStream(s: $GuidoStream) { return this.fEngine.getStream(this.$2o(s)); }\n    stream2AR(p: $GuidoParser, stream: $GuidoStream) { return this.o2$(this.fEngine.stream2AR(this.$2o(p), this.$2o(stream))); }\n    writeStream(s: $GuidoStream, str: string) { return this.fEngine.writeStream(this.$2o(s), str); }\n    resetStream(s: $GuidoStream) { return this.fEngine.resetStream(this.$2o(s)); }\n\n    getParsingTime(ar: $ARHandler) { return this.fEngine.getParsingTime(this.$2o(ar)); }\n    getAR2GRTime(gr: $GRHandler) { return this.fEngine.getAR2GRTime(this.$2o(gr)); }\n    getOnDrawTime(gr: $GRHandler) { return this.fEngine.getOnDrawTime(this.$2o(gr)); }\n\n    // ------------------------------------------------------------------------\n    // Guido mappings interface\n    getPageMap(gr: $GRHandler, page: number, w: number, h: number) { return this.fScoreMap.getPageMap(this.$2o(gr), page, w, h); }\n    getStaffMap(gr: $GRHandler, page: number, w: number, h: number, staff: number) { return this.fScoreMap.getStaffMap(this.$2o(gr), page, w, h, staff); }\n    getVoiceMap(gr: $GRHandler, page: number, w: number, h: number, voice: number) { return this.fScoreMap.getVoiceMap(this.$2o(gr), page, w, h, voice); }\n    getSystemMap(gr: $GRHandler, page: number, w: number, h: number) { return this.fScoreMap.getSystemMap(this.$2o(gr), page, w, h); }\n    getTime(date: GuidoDate, map: string) { return this.fScoreMap.getTime(date, map); }\n    getPoint(x: number, y: number, map: string) { return this.fScoreMap.getPoint(x, y, map); }\n    getTimeMap(ar: $ARHandler) { return this.fScoreMap.getTimeMap(this.$2o(ar)); }\n    getPianoRollMap(pr: $PianoRoll, width: number, height: number) { return this.fScoreMap.getPianoRollMap(this.$2o(pr), width, height); }\n\n    // ------------------------------------------------------------------------\n    // Guido piano roll interface\n    pianoRoll() { return this.fPianoRoll; }\n\n    ar2PianoRoll(type: PianoRollType, ar: $ARHandler) { return this.o2$(this.fPianoRoll.ar2PianoRoll(type, this.$2o(ar))); }\n    destroyPianoRoll(pr: $PianoRoll) { return this.fPianoRoll.destroyPianoRoll(this.$2o(pr)); }\n    prSetLimits(pr: $PianoRoll, limits: LimitParams) { return this.fPianoRoll.setLimits(this.$2o(pr), limits); }\n    prEnableKeyboard(pr: $PianoRoll, status: boolean) { return this.fPianoRoll.enableKeyboard(this.$2o(pr), status); }\n    prGetKeyboardWidth(pr: $PianoRoll, height: number) { return this.fPianoRoll.getKeyboardWidth(this.$2o(pr), height); }\n    prEnableAutoVoicesColoration(pr: $PianoRoll, status: boolean) { return this.fPianoRoll.enableAutoVoicesColoration(this.$2o(pr), status); }\n\n    prSetVoiceColor(pr: $PianoRoll, voice: number, r: number, g: number, b: number, a: number) { return this.fPianoRoll.setRGBColorToVoice(this.$2o(pr), voice, r, g, b, a); }\n    prSetVoiceNamedColor(pr: $PianoRoll, voice: number, c: string) { return this.fPianoRoll.setColorToVoice(this.$2o(pr), voice, c); }\n    prRemoveVoiceColor(pr: $PianoRoll, voice: number) { return this.fPianoRoll.removeColorToVoice(this.$2o(pr), voice); }\n    prEnableMeasureBars(pr: $PianoRoll, status: boolean) { return this.fPianoRoll.enableMeasureBars(this.$2o(pr), status); }\n    prSetPitchLinesDisplayMode(pr: $PianoRoll, mode: number) { return this.fPianoRoll.setPitchLinesDisplayMode(this.$2o(pr), mode); }\n\n    proll2svg(pr: $PianoRoll, w: number, h: number) { return this.fPianoRoll.svgExport(this.$2o(pr), w, h); }\n    prGetMap(pr: $PianoRoll, width: number, height: number) { return this.fPianoRoll.getMap(this.$2o(pr), width, height); }\n\n    prSvgExport(pr: $PianoRoll, width: number, height: number) { return this.fPianoRoll.svgExport(this.$2o(pr), width, height); }\n    prJsExport(pr: $PianoRoll, width: number, height: number) { return this.fPianoRoll.javascriptExport(this.$2o(pr), width, height); }\n\n    // ------------------------------------------------------------------------\n    // Reduced Proportional representation\n    // no relay for the interface\n    reducedProp() { return this.fSPR; }\n\n    // ------------------------------------------------------------------------\n    // Guido factory interface\n    _openMusic() { return this.fFactory.openMusic(); }\n    _closeMusic() { return this.o2$(this.fFactory.closeMusic()); }\n    _openVoice() { return this.fFactory.openVoice(); }\n    _closeVoice() { return this.fFactory.closeVoice(); }\n    _openChord() { return this.fFactory.openChord(); }\n    _closeChord() { return this.fFactory.closeChord(); }\n    _insertCommata() { return this.fFactory.insertCommata(); }\n\n    _openEvent(name: string) { return this.fFactory.openEvent(name); }\n    _closeEvent() { return this.fFactory.closeEvent(); }\n    _addSharp() { return this.fFactory.addSharp(); }\n    _addFlat() { return this.fFactory.addFlat(); }\n    _setEventDots(dots: number) { return this.fFactory.setEventDots(dots); }\n    _setEventAccidentals(acc: number) { return this.fFactory.setEventAccidentals(acc); }\n    _setOctave(oct: number) { return this.fFactory.setOctave(oct); }\n    _setDuration(numerator: number, denominator: number) { return this.fFactory.setDuration(numerator, denominator); }\n\n    _openTag(name: string, tagID: number) { return this.fFactory.openTag(name, tagID); }\n    _openRangeTag(name: string, tagID: number) { return this.fFactory.openRangeTag(name, tagID); }\n    _endTag() { return this.fFactory.endTag(); }\n    _closeTag() { return this.fFactory.closeTag(); }\n    _addTagParameterString(val: string) { return this.fFactory.addTagParameterString(val); }\n    _addTagParameterInt(val: number) { return this.fFactory.addTagParameterInt(val); }\n    _addTagParameterFloat(val: number) { return this.fFactory.addTagParameterFloat(val); }\n\n    _setParameterName(name: string) { return this.fFactory.setParameterName(name); }\n    _setParameterUnit(unit: string) { return this.fFactory.setParameterUnit(unit); }\n\n    __closeMusic(factoryQueue: MessagePortRequest<IGuidoFactory>[]) {\n        for (const request of factoryQueue) {\n            const { call, args } = request;\n            const internalCall = `_${call}` as `_${keyof IGuidoFactory}`;\n            (this[internalCall] as any)(...args);\n        }\n        return this._closeMusic();\n    }\n}\n// eslint-disable-next-line no-new\nnew Guido();\n"],"sourceRoot":""}
{"version":3,"file":"src_core_image_ImageEditor_ts.js/6f427e638d666d57cb48.worklet.js","mappings":";;;;;;;;;;;;;;;;AACA;AASe,MAAMC,WAAN,SAA0BD,qDAA1B,CAAwE;AAAA;AAAA;;AAAA;AAAA;;AACvD,eAAfE,eAAe,OAAkI;AAAA,QAAjI;AAAEC,MAAAA,IAAF;AAAQC,MAAAA,GAAR;AAAaC,MAAAA,OAAb;AAAsBC,MAAAA;AAAtB,KAAiI;AAC1J,UAAMC,KAAK,GAAG,MAAMJ,IAAI,CAACK,WAAL,CAAiB;AAAEJ,MAAAA,GAAF;AAAOC,MAAAA,OAAP;AAAgBC,MAAAA;AAAhB,KAAjB,CAApB;AACA,UAAMG,MAAM,GAAG,IAAI,IAAJ,CAASF,KAAT,CAAf;AACA,WAAOE,MAAM,CAACC,IAAP,EAAP;AACH;;AAEgB,MAAbC,aAAa,GAAG;AAChB,WAAO,KAAP;AACH;;AACW,MAARC,QAAQ,GAAkB;AAC1B,WAAO,SAAP;AACH;;AACU,MAAPC,OAAO,GAAG;AACV,WAAO,KAAKC,QAAZ;AACH;;AACS,QAAJJ,IAAI,GAAG;AACT,QAAI,CAAC,KAAKK,QAAL,CAAcC,OAAnB,EAA4B;AACxB,YAAM,IAAIC,OAAJ,CAAkB,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACzC,cAAMC,WAAW,GAAG,MAAM;AACtBF,UAAAA,OAAO;AACP,eAAKH,QAAL,CAAcM,GAAd,CAAkB,OAAlB,EAA2BD,WAA3B;AACH,SAHD;;AAIA,aAAKL,QAAL,CAAcO,EAAd,CAAiB,OAAjB,EAA0BF,WAA1B;AACH,OANK,CAAN;AAOH;;AACD,SAAKG,QAAL,GAAgB,IAAhB;AACA,SAAKC,IAAL,CAAU,OAAV;AACA,WAAO,IAAP;AACH;;AACS,QAAJC,IAAI,GAAG,CAAE;;AACL,QAAJC,IAAI,GAAG,CAAE;;AACL,QAAJC,IAAI,GAAG,CAAE;;AACN,QAAHC,GAAG,GAAG,CAAE;;AACH,QAALC,KAAK,GAAG,CAAE;;AACI,QAAdC,cAAc,GAAG,CAAE;;AACV,QAATC,SAAS,GAAG,CAAE;;AACpBC,EAAAA,WAAW,GAAG,CAAE;;AArCmE","sources":["webpack://JSPatcher/JSPatcher/./src/core/image/ImageEditor.ts"],"sourcesContent":["import type { SemanticICONS } from \"semantic-ui-react\";\nimport FileEditor from \"../file/FileEditor\";\nimport History from \"../file/History\";\nimport type PersistentProjectFile from \"../file/PersistentProjectFile\";\nimport type { IJSPatcherEnv } from \"../Env\";\nimport type { IProject } from \"../Project\";\nimport type PatcherImage from \"./PatcherImage\";\n\nexport interface ImageEditorEventMap {}\n\nexport default class ImageEditor extends FileEditor<PatcherImage, ImageEditorEventMap> {\n    static async fromProjectItem({ file, env, project, instanceId }: { file: PersistentProjectFile; env: IJSPatcherEnv; project?: IProject; instanceId: string }) {\n        const image = await file.instantiate({ env, project, instanceId }) as PatcherImage;\n        const editor = new this(image);\n        return editor.init();\n    }\n    readonly _history: History;\n    get fileExtension() {\n        return \"png\";\n    }\n    get fileIcon(): SemanticICONS {\n        return \"picture\";\n    }\n    get history() {\n        return this._history;\n    }\n    async init() {\n        if (!this.instance.isReady) {\n            await new Promise<void>((resolve, reject) => {\n                const handleReady = () => {\n                    resolve();\n                    this.instance.off(\"ready\", handleReady);\n                };\n                this.instance.on(\"ready\", handleReady);\n            });\n        }\n        this._isReady = true;\n        this.emit(\"ready\");\n        return this;\n    }\n    async undo() {}\n    async redo() {}\n    async copy() {}\n    async cut() {}\n    async paste() {}\n    async deleteSelected() {}\n    async selectAll() {}\n    onUiResized() {}\n}\n"],"names":["FileEditor","ImageEditor","fromProjectItem","file","env","project","instanceId","image","instantiate","editor","init","fileExtension","fileIcon","history","_history","instance","isReady","Promise","resolve","reject","handleReady","off","on","_isReady","emit","undo","redo","copy","cut","paste","deleteSelected","selectAll","onUiResized"],"sourceRoot":""}
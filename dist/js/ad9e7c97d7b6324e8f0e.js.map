{"version":3,"file":"js/ad9e7c97d7b6324e8f0e.js","mappings":"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","sources":["webpack://JSPatcher/./src/core/objects/base/index.jsdsppkg.main.ts","webpack://JSPatcher/./src/core/objects/jsaw/AudioIn.ts","webpack://JSPatcher/./src/core/objects/jsaw/AudioOut.ts","webpack://JSPatcher/./src/core/objects/jsaw/Param.ts","webpack://JSPatcher/./src/core/objects/jsaw/index.jsdsppkg.main.ts"],"sourcesContent":["import BaseObject from \"./BaseObject\";\nimport EmptyObject from \"./EmptyObject\";\nimport InvalidObject from \"./InvalidObject\";\nimport { Func, New } from \"../importer/RemoteImporter\";\nimport getIO from \"../jsaw/index.jsdsppkg.main\";\n\nexport default async () => ({\n    BaseObject,\n    EmptyObject,\n    InvalidObject,\n    func: Func,\n    new: New,\n    ...await getIO()\n});\n","import BaseObject from \"../base/BaseObject\";\nimport type { IArgsMeta, IOutletsMeta, IPropsMeta } from \"../base/AbstractObject\";\nimport type { PatcherEventMap } from \"../../patcher/Patcher\";\n\ninterface P {\n    description: string;\n}\n\nexport default class AudioIn extends BaseObject<{}, {}, [], [number, number], [number], P> {\n    static isPatcherInlet = \"audio\" as const;\n    static description = \"Patcher inlet (audio)\";\n    static args: IArgsMeta = [{\n        type: \"number\",\n        optional: false,\n        default: 1,\n        description: \"Inlet index (1-based)\"\n    }];\n    static props: IPropsMeta<P> = {\n        description: {\n            type: \"string\",\n            default: \"\",\n            description: \"Description text\"\n        }\n    };\n    static outlets: IOutletsMeta = [{\n        type: \"number\",\n        description: \"Sample value\"\n    }, {\n        type: \"number\",\n        description: \"Sample index\"\n    }];\n    protected get index() {\n        return Math.max(1, ~~this.box.args[0] || 1);\n    }\n    protected _ = { index: this.index };\n    protected handlePatcherInput = ({ input, index, sample }: PatcherEventMap[\"audioInput\"]) => {\n        if (input === this.index - 1) this.outletAll([sample, index]);\n    };\n    protected emitPatcherChangeIO = () => this.patcher.changeIO();\n    subscribe() {\n        super.subscribe();\n        this.on(\"metaUpdated\", this.emitPatcherChangeIO);\n        this.on(\"preInit\", () => {\n            this.inlets = 0;\n            this.outlets = 2;\n        });\n        this.on(\"postInit\", this.emitPatcherChangeIO);\n        this.on(\"updateArgs\", () => {\n            const { index } = this;\n            if (index !== this._.index) {\n                this._.index = index;\n                this.patcher.changeIO();\n            }\n        });\n        this.on(\"updateProps\", (props) => {\n            const outlet0 = { ...this.meta.outlets[0] };\n            if (typeof props.description === \"string\") outlet0.description = props.description;\n            this.setMeta({ outlets: [outlet0] });\n            this.emitPatcherChangeIO();\n        });\n        if (this.env.thread === \"AudioWorklet\") this.patcher.on(\"audioInput\", this.handlePatcherInput);\n        this.on(\"destroy\", () => {\n            this.patcher.off(\"audioInput\", this.handlePatcherInput);\n            this.patcher.changeIO();\n        });\n    }\n}\n","import BaseObject from \"../base/BaseObject\";\nimport type { IArgsMeta, IInletsMeta, IPropsMeta } from \"../base/AbstractObject\";\n\ninterface P {\n    description: string;\n}\n\nexport default class AudioOut extends BaseObject<{}, {}, [], [number, number], [number, number], P> {\n    static isPatcherOutlet = \"audio\" as const;\n    static description = \"Patcher outlet (audio)\";\n    static args: IArgsMeta = [{\n        type: \"number\",\n        optional: false,\n        default: 1,\n        description: \"Inlet index (1-based)\"\n    }];\n    static props: IPropsMeta<P> = {\n        description: {\n            type: \"string\",\n            default: \"\",\n            description: \"Description text\"\n        }\n    };\n    static inlets: IInletsMeta = [{\n        isHot: true,\n        type: \"anything\",\n        description: \"\"\n    }];\n    protected get index() {\n        return Math.max(1, ~~this.box.args[0] || 1);\n    }\n    protected _ = { index: this.index, sampleIndex: 0 };\n    protected emitPatcherChangeIO = () => this.patcher.changeIO();\n    subscribe() {\n        super.subscribe();\n        this.on(\"metaUpdated\", this.emitPatcherChangeIO);\n        this.on(\"preInit\", () => {\n            this.inlets = 2;\n            this.outlets = 0;\n        });\n        this.on(\"postInit\", this.emitPatcherChangeIO);\n        this.on(\"updateArgs\", () => {\n            const { index } = this;\n            if (index !== this._.index) {\n                this._.index = index;\n                this.patcher.changeIO();\n            }\n        });\n        this.on(\"updateProps\", (props) => {\n            const inlet0 = { ...this.meta.inlets[0] };\n            if (typeof props.description === \"string\") inlet0.description = props.description;\n            this.setMeta({ inlets: [inlet0] });\n            this.emitPatcherChangeIO();\n        });\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 1) this._.sampleIndex = +~~data;\n            else if (inlet === 0) this.patcher.outputAudio(this.index - 1, this._.sampleIndex, +data);\n        });\n        this.on(\"destroy\", this.emitPatcherChangeIO);\n    }\n}\n","import BaseObject from \"../base/BaseObject\";\nimport type { IArgsMeta, IOutletsMeta, IPropsMeta } from \"../base/AbstractObject\";\nimport type { PatcherEventMap } from \"../../patcher/Patcher\";\n\ninterface P {\n    description: string;\n}\n\nexport default class Param extends BaseObject<{}, {}, [], [number, number], [string], P> {\n    static description = \"Patcher outlet (data)\";\n    static args: IArgsMeta = [{\n        type: \"string\",\n        optional: false,\n        default: \"\",\n        description: \"Parameter name\"\n    }];\n    static props: IPropsMeta<P> = {\n        description: {\n            type: \"string\",\n            default: \"\",\n            description: \"Description text\"\n        }\n    };\n    static outlets: IOutletsMeta = [{\n        type: \"anything\",\n        description: \"\"\n    }];\n    protected handlePatcherInput = ({ param, index, sample }: PatcherEventMap[\"paramInput\"]) => {\n        if (this.args[0] === param) this.outletAll([sample, index]);\n    };\n    protected emitPatcherChangeIO = () => this.patcher.changeIO();\n    subscribe() {\n        super.subscribe();\n        this.on(\"metaUpdated\", this.emitPatcherChangeIO);\n        this.on(\"preInit\", () => {\n            this.inlets = 0;\n            this.outlets = 1;\n        });\n        this.on(\"postInit\", this.emitPatcherChangeIO);\n        this.on(\"updateArgs\", this.emitPatcherChangeIO);\n        this.on(\"updateProps\", (props) => {\n            const outlet0 = { ...this.meta.outlets[0] };\n            if (typeof props.description === \"string\") outlet0.description = props.description;\n            this.setMeta({ outlets: [outlet0] });\n            this.emitPatcherChangeIO();\n        });\n        if (this.env.thread === \"AudioWorklet\") this.patcher.on(\"paramInput\", this.handlePatcherInput);\n        this.on(\"destroy\", () => {\n            this.patcher.off(\"paramInput\", this.handlePatcherInput);\n            this.patcher.changeIO();\n        });\n    }\n}\n","import generateRemoteObject from \"../base/generateRemoteObject\";\nimport In from \"./In\";\nimport Out from \"./Out\";\nimport Param from \"./Param\";\nimport AudioIn from \"./AudioIn\";\nimport AudioOut from \"./AudioOut\";\nimport type BaseObject from \"../base/BaseObject\";\n\nexport default async () => ({\n    in: generateRemoteObject(In as typeof BaseObject),\n    out: generateRemoteObject(Out as typeof BaseObject),\n    \"param~\": generateRemoteObject(Param as typeof BaseObject),\n    \"in~\": generateRemoteObject(AudioIn as typeof BaseObject),\n    \"out~\": generateRemoteObject(AudioOut as typeof BaseObject)\n});\n"],"names":["BaseObject","EmptyObject","InvalidObject","Func","New","getIO","func","new","AudioIn","index","input","sample","outletAll","patcher","changeIO","Math","max","box","args","subscribe","on","emitPatcherChangeIO","inlets","outlets","_","props","outlet0","meta","description","setMeta","env","thread","handlePatcherInput","off","type","optional","default","AudioOut","sampleIndex","inlet0","data","inlet","outputAudio","isHot","Param","param","generateRemoteObject","In","Out","in","out"],"sourceRoot":""}
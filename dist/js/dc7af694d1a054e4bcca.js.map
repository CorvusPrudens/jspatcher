{"version":3,"sources":["webpack://JSPatcher/./src/core/objects/Std.tsx"],"names":["StdObject","DefaultObject","print","title","subscribe","on","inlets","outlets","args","state","data","inlet","isBang","patcher","newLog","box","Util","isHot","type","description","optional","default","bang","outlet","Bang","loadbang","unloadbang","For","start","end","step","times","isFinite","error","i","ForIn","buffer","key","outletAll","gate","pass","obj","length","propKey","varLength","set","undefined","value","e","message","get","keys","slice","resetIO","dget","v","If","sel","array","testsCount","inletMeta0","inletMeta1","meta","outletMeta0","outletMeta1","foundIndex","indexOf","toString","sharedItem","handleFilePathChanged","setState","projectPath","handleSaved","subscribeItem","file","addObserver","reload","unsubscribeItem","off","removeObserver","item","getSharedItem","save","lambda","argsCount","result","delay","time","ref","Set","add","window","setTimeout","forEach","clearTimeout","call","instance","inputs","initialInlets","initialOutlets","Math","max","getProp","props","execute","output","m","Promise","loading","then","r","callback","updateUI","sync","thispatcher","for","if"],"mappings":"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","file":"js/dc7af694d1a054e4bcca.js","sourcesContent":["import * as Util from \"util\";\nimport Patcher from \"../patcher/Patcher\";\nimport { DefaultObject, Bang, isBang } from \"./Base\";\nimport { TMeta } from \"../types\";\nimport ProjectItem, { ProjectItemEventMap } from \"../file/ProjectItem\";\nimport TempItem from \"../file/TempItem\";\n\nclass StdObject<D = {}, S = {}, I extends any[] = any[], O extends any[] = any[], A extends any[] = any[], P = {}, U = {}> extends DefaultObject<D, S, I, O, A, P, U> {\n    static package = \"Std\";\n    static author = \"Fr0stbyteR\";\n    static version = \"1.0.0\";\n    static description = \"Standard Objects\";\n}\n\nclass print extends StdObject<{}, { title: string }, [any], [], [string]> {\n    static description = \"Print to console\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"anything\",\n        description: \"Anything to stringify\"\n    }];\n    static args: TMeta[\"args\"] = [{\n        type: \"string\",\n        optional: true,\n        default: \"Print\",\n        description: \"Title\"\n    }];\n    state = { title: \"Print\" };\n    subscribe() {\n        super.subscribe();\n        this.on(\"preInit\", () => {\n            this.inlets = 1;\n            this.outlets = 0;\n        });\n        this.on(\"updateArgs\", (args) => {\n            if (typeof args[0] !== \"undefined\") this.state.title = args[0];\n        });\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                if (isBang(data)) {\n                    this.patcher.newLog(\"none\", this.state.title, \"Bang\", this.box);\n                } else {\n                    this.patcher.newLog(\"none\", this.state.title, typeof data === \"string\" ? data : Util.inspect(data), this.box);\n                }\n            }\n        });\n    }\n}\nclass bang extends StdObject<{}, {}, [any], [Bang], []> {\n    static description = \"Transform to bang\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"anything\",\n        description: \"Anything to transform to a bang\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"bang\",\n        description: \"Bang when inlet\"\n    }];\n    subscribe() {\n        super.subscribe();\n        this.on(\"preInit\", () => {\n            this.inlets = 1;\n            this.outlets = 1;\n        });\n        this.on(\"inlet\", ({ inlet }) => {\n            if (inlet === 0) this.outlet(0, new Bang());\n        });\n    }\n}\nclass loadbang extends StdObject<{}, {}, [], [Bang], []> {\n    static description = \"Bang when patcher is loaded\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"anything\",\n        description: \"Anything to transform to a bang\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"bang\",\n        description: \"Bang when inlet\"\n    }];\n    subscribe() {\n        super.subscribe();\n        this.on(\"preInit\", () => {\n            this.inlets = 1;\n            this.outlets = 1;\n            this.patcher.on(\"postInited\", () => this.outlet(0, new Bang()));\n        });\n    }\n}\nclass unloadbang extends StdObject<{}, {}, [], [Bang], []> {\n    static description = \"Bang when patcher will be unloaded\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"anything\",\n        description: \"Anything to transform to a bang\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"bang\",\n        description: \"Bang when inlet\"\n    }];\n    subscribe() {\n        super.subscribe();\n        this.on(\"preInit\", () => {\n            this.inlets = 1;\n            this.outlets = 1;\n            this.patcher.on(\"unload\", () => this.outlet(0, new Bang()));\n        });\n    }\n}\nclass For extends StdObject<{}, { start: number; end: number; step: number }, [Bang, number, number, number], [Bang, number], [number, number, number?]> {\n    static description = \"Number iterator\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"bang\",\n        description: \"Do iterations\"\n    }, {\n        isHot: false,\n        type: \"number\",\n        description: \"Set the starting point\"\n    }, {\n        isHot: false,\n        type: \"number\",\n        description: \"Set the end point (excluded)\"\n    }, {\n        isHot: false,\n        type: \"number\",\n        description: \"Set the step\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"bang\",\n        description: \"Bang when finished\"\n    }, {\n        type: \"number\",\n        description: \"Output all iterations one by one\"\n    }];\n    static args: TMeta[\"args\"] = [{\n        type: \"number\",\n        optional: false,\n        description: \"The starting point\"\n    }, {\n        type: \"number\",\n        optional: false,\n        description: \"The end point (excluded)\"\n    }, {\n        type: \"number\",\n        optional: true,\n        default: 1,\n        description: \"The step\"\n    }];\n    state = { start: 0, end: 0, step: 1 };\n    subscribe() {\n        super.subscribe();\n        this.on(\"preInit\", () => {\n            this.inlets = 4;\n            this.outlets = 2;\n        });\n        this.on(\"updateArgs\", (args) => {\n            this.state.start = +args[0] || 0;\n            this.state.end = +args[1] || 0;\n            this.state.step = +args[2] || 1;\n        });\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                if (isBang(data)) {\n                    const { start, end, step } = this.state;\n                    const times = (end - start) / step;\n                    if (!isFinite(times) || times < 0) {\n                        this.error(`Infinite loop from ${start} to ${end} with step ${step}.`);\n                        return;\n                    }\n                    for (let i = start; i < end; i += step) {\n                        this.outlet(1, i);\n                    }\n                    this.outlet(0, new Bang());\n                }\n            } else if (inlet === 1) this.state.start = +data;\n            else if (inlet === 2) this.state.end = +data;\n            else if (inlet === 3) this.state.step = +data;\n        });\n    }\n}\nclass ForIn extends StdObject<{}, { buffer: any }, [any, any], [Bang, string | number | symbol, any], [Record<string, any>]> {\n    static description = \"Object key-value iterator\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"anything\",\n        description: \"Iterate input, bang to redo\"\n    }, {\n        isHot: false,\n        type: \"object\",\n        description: \"Set the iteration object\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"bang\",\n        description: \"Bang when finished\"\n    }, {\n        type: \"anything\",\n        description: \"Key\"\n    }, {\n        type: \"anything\",\n        description: \"Value\"\n    }];\n    static args: TMeta[\"args\"] = [{\n        type: \"object\",\n        optional: true,\n        description: \"Initial object to iterate\"\n    }];\n    state = { buffer: null as any };\n    subscribe() {\n        super.subscribe();\n        this.on(\"preInit\", () => {\n            this.inlets = 2;\n            this.outlets = 3;\n        });\n        this.on(\"updateArgs\", args => this.state.buffer = args[0]);\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                if (!isBang(data)) this.state.buffer = data;\n                for (const key in this.state.buffer) {\n                    this.outletAll([, key, this.state.buffer[key]]);\n                }\n                this.outlet(0, new Bang());\n            } else if (inlet === 1) {\n                this.state.buffer = data;\n            }\n        });\n    }\n}\nclass gate extends StdObject<{}, { pass: boolean }, [any, any], [any], [any]> {\n    static description = \"Bypass or block incoming data\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"anything\",\n        description: \"Anything to bypass\"\n    }, {\n        isHot: false,\n        type: \"anything\",\n        description: \"Test, falsable to block\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"anything\",\n        description: \"Anything bypass\"\n    }];\n    static args: TMeta[\"args\"] = [{\n        type: \"anything\",\n        optional: true,\n        default: true,\n        description: \"default state\"\n    }];\n    state = { pass: true };\n    subscribe() {\n        super.subscribe();\n        this.on(\"preInit\", () => {\n            this.inlets = 2;\n            this.outlets = 1;\n        });\n        this.on(\"updateArgs\", (args) => {\n            this.state.pass = args[0] === \"undefined\" || args[0] === \"\" || !!args[0];\n        });\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                if (this.state.pass) this.outlet(0, data);\n            } else if (inlet === 1) {\n                this.state.pass = !!data;\n            }\n        });\n    }\n}\nclass obj extends StdObject<{}, { obj: Record<string, any> }, [Bang, ...any], [Record<string, any>], (string | number)[]> {\n    static description = \"Construct an object with various properties\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"object\",\n        description: \"Bang to output current object and initialize a new one\"\n    }, {\n        isHot: false,\n        type: \"anything\",\n        varLength: true,\n        description: \"Value to set to the property\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"object\",\n        description: \"Created object\"\n    }];\n    static args: TMeta[\"args\"] = [{\n        type: \"anything\",\n        optional: true,\n        varLength: true,\n        description: \"Key / name of the property\"\n    }];\n    state = { obj: {} as Record<string, any> };\n    subscribe() {\n        super.subscribe();\n        this.on(\"updateArgs\", (args) => {\n            this.inlets = args.length + 1;\n        });\n        this.on(\"postInit\", () => {\n            this.inlets = this.box.args.length + 1;\n            this.outlets = 1;\n        });\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                this.outlet(0, this.state.obj);\n                this.state.obj = {};\n            } else {\n                const propKey = this.box.args[inlet - 1];\n                this.state.obj[propKey] = data;\n            }\n        });\n    }\n}\nclass set extends StdObject<{}, { key: string | number; value: any }, [Record<string, any> | any[], string | number, any], [Record<string, any> | any[]], [string | number, any]> {\n    static description = \"Set a property of incoming object\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"object\",\n        description: \"Object to set a property\"\n    }, {\n        isHot: false,\n        type: \"string\",\n        description: \"Key / name of the property\"\n    }, {\n        isHot: false,\n        type: \"anything\",\n        description: \"Value to set to the property\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"anything\",\n        description: \"Object bypass\"\n    }];\n    static args: TMeta[\"args\"] = [{\n        type: \"anything\",\n        optional: false,\n        description: \"Initial key of the property\"\n    }, {\n        type: \"anything\",\n        optional: true,\n        default: undefined,\n        description: \"Initial value of the property\"\n    }];\n    state = { key: undefined as string | number, value: undefined as any };\n    subscribe() {\n        super.subscribe();\n        this.on(\"preInit\", () => {\n            this.inlets = 3;\n            this.outlets = 1;\n        });\n        this.on(\"updateArgs\", (args) => {\n            if (typeof args[0] === \"string\" || typeof args[0] === \"number\") this.state.key = args[0];\n            if (typeof args[1] !== \"undefined\") this.state.value = args[1];\n        });\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                if (typeof this.state.key === \"string\" || typeof this.state.key === \"number\") {\n                    try {\n                        data[this.state.key] = this.state.value;\n                        this.outlet(0, data);\n                    } catch (e) {\n                        this.error((e as Error).message);\n                    }\n                } else {\n                    this.error(\"Key not defined\");\n                }\n            } else if (inlet === 1) {\n                if (typeof data === \"string\" || typeof data === \"number\") this.state.key = data;\n                else this.error(\"Key should be a number or a string\");\n            } else if (inlet === 2) {\n                this.state.value = data;\n            }\n        });\n    }\n}\nclass get extends StdObject<{}, { keys: (string | number)[] }, [Record<string, any> | any[], ...(string | number)[]], any[], (string | number)[]> {\n    static description = \"Get properties of incoming object\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"object\",\n        description: \"Object to get a property\"\n    }, {\n        isHot: false,\n        type: \"string\",\n        varLength: true,\n        description: \"Key / name of the property\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"anything\",\n        varLength: true,\n        description: \"Value got\"\n    }];\n    static args: TMeta[\"args\"] = [{\n        type: \"anything\",\n        optional: false,\n        varLength: true,\n        description: \"Initial key of the property\"\n    }];\n    state = { keys: [] as (string | number)[] };\n    resetIO = () => {\n        const { args } = this.box;\n        this.state.keys = args.slice();\n        this.inlets = 1 + args.length;\n        this.outlets = args.length;\n    };\n    subscribe() {\n        super.subscribe();\n        this.on(\"postInit\", this.resetIO);\n        this.on(\"updateArgs\", this.resetIO);\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                for (let i = this.state.keys.length - 1; i >= 0; i--) {\n                    const key = this.state.keys[i];\n                    if (typeof key === \"string\" || typeof key === \"number\") {\n                        try {\n                            this.outlet(i, (data as any)[key]);\n                        } catch (e) {\n                            this.error((e as Error).message);\n                        }\n                    }\n                }\n            } else {\n                if (typeof data === \"string\" || typeof data === \"number\") this.state.keys[inlet - 1] = data;\n                else this.error(\"Key should be a number or a string\");\n            }\n        });\n    }\n}\nclass dget extends StdObject<{}, { keys: (string | number)[] }, [Record<string, any> | any[], ...(string | number)[]], any[], (string | number)[]> {\n    static description = \"Get a deep property of incoming object\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"object\",\n        description: \"Object to get a property\"\n    }, {\n        isHot: false,\n        type: \"string\",\n        varLength: true,\n        description: \"Key / name of the property (recursive)\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"anything\",\n        varLength: true,\n        description: \"Value got\"\n    }];\n    static args: TMeta[\"args\"] = [{\n        type: \"anything\",\n        optional: false,\n        varLength: true,\n        description: \"Initial key of the property (recursive)\"\n    }];\n    state = { keys: [] as (string | number)[] };\n    resetIO = () => {\n        const { args } = this.box;\n        this.state.keys = args.slice();\n        this.inlets = 1 + args.length;\n        this.outlets = args.length;\n    };\n    subscribe() {\n        super.subscribe();\n        this.on(\"postInit\", this.resetIO);\n        this.on(\"updateArgs\", this.resetIO);\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                let v = data as any;\n                for (let i = 0; i < this.state.keys.length; i++) {\n                    const key = this.state.keys[i];\n                    if (typeof key === \"string\" || typeof key === \"number\") {\n                        try {\n                            v = v[key];\n                        } catch (e) {\n                            this.error((e as Error).message);\n                            return;\n                        }\n                    }\n                }\n                this.outlet(0, v);\n            } else {\n                if (typeof data === \"string\" || typeof data === \"number\") this.state.keys[inlet - 1] = data;\n                else this.error(\"Key should be a number or a string\");\n            }\n        });\n    }\n}\nclass If extends StdObject<{}, {}, [boolean], [Bang, Bang]> {\n    static description = \"Output a bang on true / false\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"boolean\",\n        description: \"True for a bang to left outlet, false for right\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"bang\",\n        description: \"True?\"\n    }, {\n        type: \"bang\",\n        description: \"False?\"\n    }];\n    subscribe() {\n        super.subscribe();\n        this.on(\"preInit\", () => {\n            this.inlets = 1;\n            this.outlets = 2;\n        });\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) this.outlet(+!data, new Bang());\n        });\n    }\n}\nclass sel extends StdObject<{}, { array: any[] }, any[], (Bang | any)[], any[]> {\n    static description = \"Output a bang on a matched inlet\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"anything\",\n        varLength: false,\n        description: \"Test for match\"\n    }, {\n        isHot: false,\n        type: \"anything\",\n        varLength: true,\n        description: \"Set value for match\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"bang\",\n        varLength: false,\n        description: \"Bang if match\"\n    }, {\n        type: \"anything\",\n        varLength: false,\n        description: \"Bypass if not matched\"\n    }];\n    static args: TMeta[\"args\"] = [{\n        type: \"anything\",\n        optional: false,\n        varLength: true,\n        description: \"Initial value for match\"\n    }];\n    state = { array: [] as any[] };\n    resetIO = () => {\n        const { args } = this.box;\n        const testsCount = args.length;\n        const [inletMeta0, inletMeta1] = sel.meta.inlets;\n        const [outletMeta0, outletMeta1] = sel.meta.inlets;\n        const { meta } = this;\n        meta.inlets = [inletMeta0];\n        meta.outlets = [];\n        for (let i = 0; i < testsCount; i++) {\n            meta.outlets[i] = { ...outletMeta0 };\n            meta.outlets[i].description += ` index ${i}`;\n            meta.inlets[i + 1] = { ...inletMeta1 };\n            meta.inlets[i + 1].description += ` index ${i}`;\n        }\n        meta.outlets[testsCount] = outletMeta1;\n        this.meta = meta;\n        this.state.array = args.slice();\n        this.inlets = 1 + testsCount;\n        this.outlets = testsCount + 1;\n    };\n    subscribe() {\n        super.subscribe();\n        this.on(\"postInit\", this.resetIO);\n        this.on(\"updateArgs\", this.resetIO);\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                const foundIndex = this.state.array.indexOf(data);\n                if (foundIndex === -1) this.outlet(this.outlets - 1, data);\n                else this.outlet(foundIndex, new Bang());\n            } else {\n                this.state.array[inlet - 1] = data;\n            }\n        });\n    }\n}\nclass v extends StdObject<{}, { key: string; value: any; sharedItem: ProjectItem | TempItem }, [Bang | any, any, string | number], [any], [string | number, any]> {\n    static description = \"Store anything as named sharable variable\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"anything\",\n        description: \"Bang to output stored value, anything to set the value then output it.\"\n    }, {\n        isHot: false,\n        type: \"anything\",\n        description: \"Anything to set the value.\"\n    }, {\n        isHot: false,\n        type: \"anything\",\n        description: \"Set variable name.\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"anything\",\n        description: \"Value\"\n    }];\n    static args: TMeta[\"args\"] = [{\n        type: \"anything\",\n        optional: true,\n        description: \"Variable name\"\n    }, {\n        type: \"anything\",\n        optional: true,\n        description: \"Initial value\"\n    }];\n    state: { key: string; value: any; sharedItem: ProjectItem | TempItem } = { key: this.box.args[0]?.toString(), value: undefined, sharedItem: null };\n    subscribe() {\n        super.subscribe();\n        const handleFilePathChanged = () => {\n            this.setState({ key: this.state.sharedItem?.projectPath });\n        };\n        const handleSaved = (e: ProjectItemEventMap[\"saved\"]) => {\n            if (e === this) return;\n            this.setState({ value: this.state.sharedItem?.data });\n        };\n        const subscribeItem = async () => {\n            const file = this.state.sharedItem;\n            if (!file) return;\n            await file.addObserver(this);\n            file.on(\"destroyed\", reload);\n            file.on(\"nameChanged\", handleFilePathChanged);\n            file.on(\"pathChanged\", handleFilePathChanged);\n            file.on(\"saved\", handleSaved);\n        };\n        const unsubscribeItem = async () => {\n            const file = this.state.sharedItem;\n            if (!file) return;\n            file.off(\"destroyed\", reload);\n            file.off(\"nameChanged\", handleFilePathChanged);\n            file.off(\"pathChanged\", handleFilePathChanged);\n            file.off(\"saved\", handleSaved);\n            await file.removeObserver(this);\n        };\n        const reload = async () => {\n            await unsubscribeItem();\n            const { key } = this.state;\n            try {\n                const { item } = await this.getSharedItem(key, \"unknown\", () => this.state.value);\n                this.setState({ value: item.data, sharedItem: item });\n            } catch (error) {\n                this.error(error);\n            } finally {\n                await subscribeItem();\n            }\n        };\n        this.on(\"preInit\", () => {\n            this.inlets = 3;\n            this.outlets = 1;\n        });\n        this.on(\"updateArgs\", async (args) => {\n            const key = args[0]?.toString();\n            if (key !== this.state.key) {\n                this.setState({ key });\n                await reload();\n            } else {\n                if (typeof args[1] !== \"undefined\") {\n                    this.setState({ value: args[1] });\n                    this.state.sharedItem?.save(this.state.value, this);\n                }\n            }\n        });\n        this.on(\"postInit\", reload);\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                if (!isBang(data)) {\n                    this.setState({ value: data });\n                    this.state.sharedItem?.save(this.state.value, this);\n                }\n                this.outlet(0, this.state.value);\n            } else if (inlet === 1) {\n                this.setState({ value: data });\n                this.state.sharedItem?.save(this.state.value, this);\n            } else if (inlet === 2) {\n                if (typeof data === \"string\" || typeof data === \"number\") {\n                    const key = data.toString() || \"\";\n                    if (key !== this.state.key) {\n                        this.setState({ key });\n                        reload();\n                    }\n                }\n            }\n        });\n        this.on(\"destroy\", unsubscribeItem);\n    }\n}\nclass lambda extends StdObject<{}, { argsCount: number; result: any }, [Bang, any], [(...args: any[]) => any, ...any[]], [number]> {\n    static description = \"Generate anonymous function, output args when called\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"bang\",\n        description: \"Output anonymous function\"\n    }, {\n        isHot: false,\n        type: \"anything\",\n        description: \"Result of the anonymous function\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"function\",\n        description: \"Anonymous function\"\n    }, {\n        type: \"bang\",\n        description: \"bang while lambda is called\"\n    }, {\n        type: \"anything\",\n        varLength: true,\n        description: \"If args=0, outlet args as array, else argument of current index\"\n    }];\n    static args: TMeta[\"args\"] = [{\n        type: \"number\",\n        optional: true,\n        default: 0,\n        description: \"Arguments count\"\n    }];\n    state = { argsCount: 0, result: undefined as any };\n    lambda = (...args: any[]) => {\n        this.state.result = undefined;\n        if (this.state.argsCount === 0) {\n            this.outletAll([, new Bang(), args]);\n        } else {\n            this.outletAll([, new Bang(), ...args]);\n        }\n        return this.state.result; // After outlet, result will be received.\n    };\n    subscribe() {\n        super.subscribe();\n        this.on(\"preInit\", () => {\n            this.inlets = 2;\n            this.outlets = 3;\n        });\n        this.on(\"updateArgs\", () => {\n            const { args } = this.box;\n            if (typeof args[0] === \"number\" && args[0] >= 0) {\n                this.state.argsCount = ~~args[0];\n                this.outlets = 2 + this.state.argsCount;\n            }\n        });\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                if (isBang(data)) this.outlet(0, this.lambda);\n            } else if (inlet === 1) this.state.result = data;\n        });\n    }\n}\nclass delay extends StdObject<{}, { time: number; ref: Set<number> }, [any, number], [any]> {\n    static description = \"Delay an input\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"anything\",\n        description: \"Input to be delayed\"\n    }, {\n        isHot: false,\n        type: \"number\",\n        description: \"Delay time in seconds\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"anything\",\n        description: \"Delayed input\"\n    }];\n    static args: TMeta[\"args\"] = [{\n        type: \"number\",\n        optional: true,\n        default: 0,\n        description: \"Default delay time\"\n    }];\n    state = { time: 0, ref: new Set<number>() };\n    subscribe() {\n        super.subscribe();\n        this.on(\"preInit\", () => {\n            this.inlets = 2;\n            this.outlets = 1;\n        });\n        this.on(\"updateArgs\", () => {\n            const { args } = this.box;\n            if (typeof args[0] === \"number\") this.state.time = +args[0];\n        });\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                this.state.ref.add(window.setTimeout(() => this.outlet(0, data), this.state.time || 0));\n            } else if (inlet === 1) {\n                this.state.time = +data;\n            }\n        });\n        this.on(\"destroy\", () => {\n            this.state.ref.forEach(ref => window.clearTimeout(ref));\n        });\n    }\n}\n\ntype CallState = { instance: any; inputs: any[]; result: any };\nexport class call extends DefaultObject<{}, CallState, [any | Bang, ...any[]], any[], [string, ...any[]], { args: number; sync: boolean }, { loading: boolean }> {\n    static description = \"Call a method of current object\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"anything\",\n        description: \"Instance to read\"\n    }, {\n        isHot: false,\n        type: \"anything\",\n        varLength: true,\n        description: \"Method argument\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"anything\",\n        description: \"Method return value\"\n    }, {\n        type: \"anything\",\n        description: \"Instance bypass\"\n    }, {\n        type: \"anything\",\n        varLength: true,\n        description: \"Argument after method called\"\n    }];\n    static args: TMeta[\"args\"] = [{\n        type: \"string\",\n        optional: false,\n        description: \"Method name\"\n    }, {\n        type: \"anything\",\n        optional: true,\n        varLength: true,\n        description: \"Set arguments while loaded\"\n    }];\n    static props: TMeta[\"props\"] = {\n        args: {\n            type: \"number\",\n            default: 0,\n            description: \"arguments count for method\"\n        },\n        sync: {\n            type: \"boolean\",\n            default: false,\n            description: \"If true and in case the result is a Promise, instead of waiting for result, will output the Promise object\"\n        }\n    };\n    state: CallState = { instance: undefined, inputs: [], result: null };\n    initialInlets = 1;\n    initialOutlets = 2;\n    subscribe() {\n        super.subscribe();\n        this.on(\"preInit\", () => {\n            this.inlets = this.initialInlets;\n            this.outlets = this.initialOutlets;\n        });\n        this.on(\"updateArgs\", (args) => {\n            this.state.inputs = args.slice(1);\n            const argsCount = Math.max(args.length - 1, ~~+this.getProp(\"args\"));\n            this.inlets = Math.max(1, this.initialInlets + argsCount);\n            this.outlets = this.initialOutlets + argsCount;\n        });\n        this.on(\"updateProps\", (props) => {\n            if (props.args && typeof props.args === \"number\" && props.args >= 0) {\n                const argsCount = Math.max(this.box.args.length - 1, ~~props.args);\n                this.inlets = Math.max(1, this.initialInlets + argsCount);\n                this.outlets = this.initialOutlets + argsCount;\n            }\n        });\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                if (!isBang(data)) this.state.instance = data;\n                if (this.execute()) this.output();\n            } else {\n                this.state.inputs[inlet - 1] = data;\n            }\n        });\n    }\n    execute() {\n        const m = this.box.args[0];\n        try {\n            this.state.result = this.state.instance[m](...this.state.inputs);\n            return true;\n        } catch (e) {\n            this.error(e);\n            return false;\n        }\n    }\n    callback = () => this.outletAll([this.state.result, this.state.instance, ...this.state.inputs]);\n    output() {\n        if (this.state.result instanceof Promise && !this.getProp(\"sync\")) {\n            this.loading = true;\n            this.state.result.then((r) => {\n                this.loading = false;\n                this.state.result = r;\n                this.callback();\n            }, (r) => {\n                this.loading = false;\n                this.error(r);\n            });\n            return this;\n        }\n        return this.callback();\n    }\n    set loading(loading: boolean) {\n        this.updateUI({ loading });\n    }\n}\nclass thispatcher extends StdObject<{}, {}, [Bang], [Patcher]> {\n    static description = \"Current patcher instance\";\n    static inlets: TMeta[\"inlets\"] = [{\n        isHot: true,\n        type: \"bang\",\n        description: \"Bang to output patcher instance\"\n    }];\n    static outlets: TMeta[\"outlets\"] = [{\n        type: \"object\",\n        description: \"Patcher instance\"\n    }];\n    subscribe() {\n        super.subscribe();\n        this.on(\"preInit\", () => {\n            this.inlets = 1;\n            this.outlets = 1;\n        });\n        this.on(\"inlet\", ({ data, inlet }) => {\n            if (inlet === 0) {\n                this.outlet(0, this.patcher);\n            }\n        });\n    }\n}\n\nexport default { print, for: For, \"for-in\": ForIn, if: If, gate, sel, obj, set, get, dget, call, v, lambda, bang, loadbang, unloadbang, delay, thispatcher };\n"],"sourceRoot":""}